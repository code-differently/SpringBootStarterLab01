Building the **data access layer** (DAO) and its unit tests

# The Repository DAO Layer

Spring Data JPA takes care of most of the data access layer.  
â‡’
[WidgetRepo.java](../src/main/java/com/codedifferently/phonebook/domain/widgets/repos/WidgetRepo.java)

1.  Most CRUD operations are supplied by the parent interface
    `JpaRepository` from Spring
    (`org.springframework.data.jpa.repository` package)  

    1.  The `JpaRepository` extends the `PagingAndSortingRepository`
        which extends the `CrudRepository`.

2.  Custom finder methods  

    1.  In addition to the available-by-default CRUD operations, custom
        methods can be added. In the `WidgetRepo`, a `findWidgetByName`
        operation is a custom find operation.

    2.  Constructing such custom operations requires a deeper
        understanding of how query methods are generated by **Spring
        Data JPA**.

    3.  Refer to the [Spring
        documentation](http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.query-creation)
        to read up on other phrases that JPA can use for database
        access.

3.  Using named queries  

    1.  A named query is an operation where a custom query is annotated
        using a `@Query` annotation.

<div class="note">

The named query uses Java class and field names, rather than database
table and column names.

</div>

# Exercise Lab

![Lab](images/labtime.png)

1.  Create the lab methods(s) in the `com.codedifferently.phonebook.domain.phonebook.repos.PhoneNumberRepo` interface:

    1.  `List<Person> findByLastName` - To do a search by last name. '''

| Prev                                             | TOC                       | Next                                        |
|--------------------------------------------------|---------------------------|---------------------------------------------|
| [Working with the Model layer](04_ModelLayer.md) | [TOC](TableOfContents.md) | [Working with Exceptions](06_Exceptions.md) |
